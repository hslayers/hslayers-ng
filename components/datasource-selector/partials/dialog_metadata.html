<div [ngClass]="{'in': metadataModalVisible}" class="modal hs-datasource_selector-metadata-dialog" tabindex="-1"
    role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    <i18n>Metadata for</i18n> {{selected_layer.title}}
                </h4>
                <button type="button" (click)="metadataModalVisible = false" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span><span class="sr-only" i18n="">Close</span>
                </button>
            </div>
            <div class="modal-body" style="max-height:400px; overflow-y:auto">
                <ng-container *ngFor="let key of selected_layer.keys()">
                    <dl *ngIf="key!='feature'">
                        <dt>{{key}}</dt>
                        <dd hs.widgets.object-directive></dd>
                    </dl>
                </ng-container>
            </div>
            <div class="modal-footer">
                <a role="button" class="btn btn-success" href="#" [href]='DS.layerRDF(selected_ds, selected_layer)'
                    data-toggle="tooltip" title="GeoDCAT-AP" target="_blank"
                    [hidden]='selected_ds.type!="micka" || DS.layerRDF(selected_ds, selected_layer) == "#"'>
                    <i class="icon-share-alt"></i> RDF
                </a>
                <button type="button" class="btn btn-success" i18n [hidden]="!mapService.isZoomable(selected_layer)"
                    (click)="mapService.zoomTo(selected_layer.bbox)">Zoom to</button>
                <button type="button" class="btn btn-primary" *ngFor="let type of selected_layer.type"
                    (click)="addLayerToMap(selected_ds, selected_layer, type); metadataModalVisible = false;"
                    [hidden]='config.dss_disallow_add == true' data-dismiss="modal">
                    <span class="icon-plus"></span><span i18n>Add to map as {{type}}</span>
                </button>
                <button type="button" class="btn btn-secondary" (click)="metadataModalVisible = false"
                    data-dismiss="modal" i18n>Close</button>
            </div>
        </div>
    </div>
</div>
