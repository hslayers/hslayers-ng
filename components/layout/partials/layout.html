<div #layout class="hs-page-wrapper hsl" style="width: 100%; height: 100%;">
    <div class="hs-content-wrapper d-flex w-100 h-100" [ngClass]="{'hs-open': HsLayoutService.sidebarExpanded && HsLayoutService.sidebarVisible(), 'hs-sb-right': HsConfig.sidebarPosition == 'right' && HsLayoutService.sidebarVisible(), 'hs-sb-left': HsConfig.sidebarPosition == 'left' && HsLayoutService.sidebarVisible(),'hs-sb-bottom':HsLayoutService.sidebarBottom()}">
        <!-- ng-if="HsLayoutService.componentEnabled('guiOverlay')" -->
        <div class="hs-map-space">
            <hs-map></hs-map>
            <hs-cesium></hs-cesium>

            <hs-layermanager-gallery *ngIf="HsLayoutService.componentEnabled('basemapGallery')"></hs-layermanager-gallery>
            <hs-toolbar [hidden]="!(panelEnabled('toolbar') && HsLayoutService.componentEnabled('toolbar'))">
            </hs-toolbar>
            <hs-geolocation [hidden]="!HsLayoutService.componentEnabled('geolocationButton')"></hs-geolocation>
            <div class="hs-info-container" [hidden]="!panelEnabled('compositionLoadingProgress')">
                <div class="hs-info-area">
                    <hs-info></hs-info>
                </div>
            </div>
        </div>
        <div class="hs-panelspace" *ngIf="HsLayoutService.sidebarVisible()" [ngClass]="{'labels': HsLayoutService.sidebarLabels, 'buttons': HsLayoutService.sidebarButtons}" [ngStyle]="{width: panelSpaceWidth()+'px'}">
            <div class="hs-panelspace-wrapper">
                <hs-sidebar></hs-sidebar>
                <div class="hs-panelplace">
                    <hs-layer-manager [hidden]="!panelVisible('layermanager', this)"></hs-layer-manager>
                    <hs-legend [hidden]="!panelVisible('legend', this)"></hs-legend>
                    <hs-datasource-selector [hidden]="!panelVisible('datasource_selector', this)"></hs-datasource-selector>
                    <hs-compositions [hidden]="!panelVisible('composition_browser', this)"></hs-compositions>
                    <hs-measure [hidden]="!panelVisible('measure', this)"></hs-measure>
                    <hs-print [hidden]="!panelVisible('print', this)"></hs-print>
                    <hs-styles [hidden]="!panelVisible('styler', this)"></hs-styles>
                    <hs-share [hidden]="!panelVisible('permalink', this)"></hs-share>
                    <hs-query class="hs-infopanel" [hidden]="!panelVisible('info', this)"></hs-query>
                    <hs-save-map [hidden]="!panelVisible('saveMap', this)"></hs-save-map>
                    <hs-language [hidden]="!panelVisible('language', this)"></hs-language>
                    <hs-feature-table [hidden]="!panelVisible('feature_table', this)"></hs-feature-table>
                    <hs-search *ngIf="panelVisible('search')" [hidden]="!panelVisible('search', this)">
                    </hs-search>
                    <hs-trip-planner *ngIf="panelVisible('tripPlanner')" [hidden]="!panelVisible('tripPlanner', this)">
                    </hs-trip-planner>
                    <hs-mini-sidebar *ngIf="HsLayoutService.minisidebar" [hidden]="!panelVisible('sidebar', this)"></hs-mini-sidebar>
                    <hs-draw [hidden]="!panelVisible('draw', this)"></hs-draw>
                    <hs-panel-container class="hs-panelplace" [ngStyle]="{width: (panelSpaceWidth()-50)+'px'}">
                    </hs-panel-container>
                </div>
            </div>
        </div>
        <div class="hs-dialog-area"></div>
    </div>

    <div>
        <hs-query-feature-popup></hs-query-feature-popup>
    </div>
    <hs-dialog-container></hs-dialog-container>
</div>
