<div class="card hs-main-panel" [hidden]="(isVisible$ | async) === false">
    <hs-panel-header name="statistics" [app]="data.app"
        [title]="'PANEL_HEADER.STATISTICS' | translateHs : {app: data.app} ">
    </hs-panel-header>
    <div class="card-body">

        <ul ngbNav #nav="ngbNav" [(activeId)]="appRef.activeTab" class="nav-tabs">
            <li [ngbNavItem]="1">
                <a ngbNavLink>Upload</a>
                <ng-template ngbNavContent>
                    <hs-statistics-upload [app]="data.app"></hs-statistics-upload>
                </ng-template>
            </li>
            <li [ngbNavItem]="2">
                <a ngbNavLink>Data</a>
                <ng-template ngbNavContent>
                    <div>
                        {{'STATISTICS.CURRENT_VARIABLES' |
                        translateHs : {app: data.app} }}: {{appRef.corpus?.variables?.length ?? '0'}}

                        <ng-container *ngIf="appRef.corpus?.variables?.length > 0">
                            <ul class="list-group hs-styler-content-list">
                                <ng-container *ngFor="let variable of appRef.corpus.variables">
                                    <li
                                        class="list-group-item hs-list-item-header list-group-item-primary d-flex justify-content-between align-items-center">
                                        <div>
                                            {{variable}}
                                        </div>
                                        <div>
                                            <button class="btn btn-danger btn-sm me-0"
                                                (click)="removeVariable(variable)" data-toggle="tooltip"
                                                [title]="'STATISTICS.removeVariable' | translateHs : {app: data.app} ">
                                                <i class="icon-trash"></i>
                                            </button>
                                        </div>
                                    </li>
                                </ng-container>
                            </ul>
                        </ng-container>
                        <div class="btn-group mt-2 align-items-center d-flex justify-content-between"
                            data-toggle="buttons">
                            <button type="button" class="btn btn-sm btn-primary "
                                (click)="correlate()">{{'STATISTICS.CORRELATE' |
                                translateHs : {app: data.app} }}</button>
                            <button type="button" class="btn btn-sm btn-primary "
                                (click)="regression()">{{'STATISTICS.REGRESSION'
                                |
                                translateHs : {app: data.app} }}</button>
                            <button type="button" class="btn btn-sm btn-primary "
                                (click)="predict()">{{'STATISTICS.PREDICT'
                                |
                                translateHs : {app: data.app} }}</button>
                            <button type="button" class="btn btn-sm btn-secondary "
                                (click)="timeSeries()">{{'STATISTICS.TIME_SERIES_CHART' |
                                translateHs : {app: data.app} }}</button>
                            <button type="button" class="btn btn-sm btn-secondary "
                                (click)="visualizeInMap()">{{'STATISTICS.VISUALIZE_MAP' |
                                translateHs : {app: data.app} }}</button>
                            <button type="button" class="btn btn-sm btn-danger "
                                (click)="clearAll()">{{'STATISTICS.CLEAR_ALL_DATA' |
                                translateHs : {app: data.app} }}</button>
                        </div>
                    </div>
                </ng-template>
            </li>
        </ul>

        <div [ngbNavOutlet]="nav" class="mt-2"></div>


    </div>
</div>